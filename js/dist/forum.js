(()=>{var a={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return a.d(o,{a:o}),o},d:(t,o)=>{for(var e in o)a.o(o,e)&&!a.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:o[e]})},o:(a,t)=>Object.prototype.hasOwnProperty.call(a,t),r:a=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}},t={};(()=>{"use strict";a.r(t);const o=flarum.core.compat["common/app"];var e=a.n(o);e().initializers.add("dhtml/translate",(function(){}));const r=flarum.core.compat["forum/app"];var n=a.n(r);const i=flarum.core.compat["common/extend"],s=(flarum.core.compat["forum/components/LocaleDropdown"],flarum.core.compat["common/components/Button"]);var l=a.n(s);const c=flarum.core.compat["common/components/HeaderSecondary"];var u=a.n(c);const d=flarum.core.compat["common/components/SelectDropdown"];var f=a.n(d);function p(a,t){(null==t||t>a.length)&&(t=a.length);for(var o=0,e=Array(t);o<t;o++)e[o]=a[o];return e}var v={af:"Afrikaans",am:"አማርኛ",ar:"العربية",as:"অসমীয়া",az:"Azərbaycan",ba:"Башҡорт",be:"Беларуская",bg:"Български",bn:"বাংলা",bs:"Bosanski",ca:"Català",cs:"Čeština",cy:"Cymraeg",da:"Dansk",de:"Deutsch",dv:"ދިވެހި",el:"Ελληνικά",en:"English",eo:"Esperanto",es:"Español",et:"Eesti",eu:"Euskara",fa:"فارسی",fi:"Suomi",fil:"Filipino",fj:"Na Vosa Vakaviti",fo:"Føroyskt",fr:"Français",ga:"Gaeilge",gl:"Galego",gu:"ગુજરાતી",ha:"Hausa",he:"עברית",hi:"हिन्दी",hr:"Hrvatski",hu:"Magyar",hy:"Հայերեն",id:"Indonesia",ig:"Igbo",is:"Íslenska",it:"Italiano",ja:"日本語",ka:"ქართული",kk:"Қазақ",km:"ភាសាខ្មែរ",kn:"ಕನ್ನಡ",ko:"한국어",ku:"Kurdî",ky:"Кыргызча",lo:"ລາວ",lt:"Lietuvių",lv:"Latviešu",mg:"Malagasy",mi:"Māori",mk:"Македонски",ml:"മലയാളം",mn:"Монгол",mr:"मराठी",ms:"Melayu",mt:"Malti",my:"မြန်မာစာ",nb:"Norsk Bokmål",ne:"नेपाली",nl:"Nederlands",no:"Norsk",ny:"ChiCheŵa",or:"ଓଡ଼ିଆ",pa:"ਪੰਜਾਬੀ",ps:"پښتو",pl:"Polski",pt:"Português",ro:"Română",ru:"Русский",sd:"سنڌي",si:"සිංහල",sk:"Slovenčina",sl:"Slovenščina",sm:"Gagana Samoa",so:"Soomaali",sq:"Shqip",sr:"Српски",st:"Sesotho",su:"Basa Sunda",sv:"Svenska",sw:"Kiswahili",ta:"தமிழ்",te:"తెలుగు",th:"ไทย",tl:"Tagalog",tr:"Türkçe",uk:"Українська",ur:"اردو",uz:"Oʻzbek",vi:"Tiếng Việt",xh:"isiXhosa",yo:"Yorùbá",zh:"中文",zt:"中文(繁體)",zu:"isiZulu"},h=function(){for(var a,t={},o=function(a,t){var o="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(o)return(o=o.call(a)).next.bind(o);if(Array.isArray(a)||(o=function(a,t){if(a){if("string"==typeof a)return p(a,t);var o={}.toString.call(a).slice(8,-1);return"Object"===o&&a.constructor&&(o=a.constructor.name),"Map"===o||"Set"===o?Array.from(a):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?p(a,t):void 0}}(a))||t&&a&&"number"==typeof a.length){o&&(a=o);var e=0;return function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(function(){var a=e().forum.attribute("dhtmlLanguageMenu");return null==a?void 0:a.split(",").map((function(a){return a.trim()}))}());!(a=o()).done;){var r=a.value;t[r]=v[r]}return t};const y=flarum.core.compat["components/DiscussionListItem"];var g=a.n(y);n().initializers.add("dhtml/translate",(function(){(0,i.extend)(u().prototype,"items",(function(a){var t=h(),o=[],e=function(a){o.push(m(l(),{active:n().data.locale===a,icon:n().data.locale!==a||"fas fa-check",onclick:function(){var t=function(a,t){try{var o=new URL(a),e=o.hostname.split(".");e.length>2&&e.shift();var r=t+"."+e.join(".");return o.hostname=r,o.toString()}catch(a){return console.error("Invalid URL:",a),null}}(location.href,a);location.href=t}},t[a]))};for(var r in t)e(r);a.add("locale",m(f(),{buttonClassName:"Button Button--link",accessibleToggleLabel:n().translator.trans("core.forum.header.locale_dropdown_accessible_label")},o),20)})),(0,i.extend)(g().prototype,"infoItems",(function(a){var t=this.attrs.discussion.firstPost();if(t){var o=n().forum.attribute("mediaPreviewCache");try{var e=(o=JSON.parse(o))[t.data.id];e&&a.add("excerpt",m.trust(e),-100)}catch(a){}}}))}))})(),module.exports=t})();
//# sourceMappingURL=forum.js.map